(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7322:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5155),l=a(2115),r=a(2265),n=a(7500),i=a(3630),d=a(9338),c=a(2241),o=a(4979),x=a(856);function m(){let[e,s]=(0,l.useState)([]),[a,m]=(0,l.useState)(null),[h,u]=(0,l.useState)(""),[g,f]=(0,l.useState)(!1),[b,p]=(0,l.useState)(!1),j=(0,l.useRef)(null),N=e.find(e=>e.id===a);(0,l.useEffect)(()=>{var e;null==(e=j.current)||e.scrollIntoView({behavior:"smooth"})},[null==N?void 0:N.messages,g]);let y=async()=>{if(!h.trim()||g)return;let t={id:Date.now().toString(),role:"user",content:h},l=a,r=[...e];if(l)s(r=e.map(e=>e.id===l?{...e,messages:[...e.messages,t]}:e));else{let a={id:Date.now().toString(),title:h.slice(0,30)+(h.length>30?"...":""),messages:[t]};s(r=[a,...e]),m(a.id),l=a.id}u(""),f(!0);try{var n;let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:(null==(n=r.find(e=>e.id===l))?void 0:n.messages)||[]})}),a=await e.json(),t={id:(Date.now()+1).toString(),role:"assistant",content:a.message||"Sorry, I encountered an error. Please try again."};s(e=>e.map(e=>e.id===l?{...e,messages:[...e.messages,t]}:e))}catch(a){let e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again."};s(s=>s.map(s=>s.id===l?{...s,messages:[...s.messages,e]}:s))}finally{f(!1)}};return(0,t.jsxs)("div",{className:"flex h-screen bg-[#0d0d0d]",children:[(0,t.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-[260px] bg-[#171717] transform transition-transform duration-300 ease-in-out ".concat(b?"translate-x-0":"-translate-x-full"," md:relative md:translate-x-0"),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"p-3",children:(0,t.jsxs)("button",{onClick:()=>{let a={id:Date.now().toString(),title:"New chat",messages:[]};s([a,...e]),m(a.id),p(!1)},className:"flex items-center gap-3 w-full px-3 py-3 rounded-lg border border-[#424242] text-white hover:bg-[#262626] transition-colors",children:[(0,t.jsx)(r.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"New chat"})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto px-3",children:e.map(l=>(0,t.jsxs)("div",{onClick:()=>{m(l.id),p(!1)},className:"group flex items-center gap-3 w-full px-3 py-3 rounded-lg cursor-pointer mb-1 ".concat(a===l.id?"bg-[#262626]":"hover:bg-[#262626]"),children:[(0,t.jsx)(n.A,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1 text-sm text-gray-300",children:l.title}),(0,t.jsx)("button",{onClick:t=>{var r;return r=l.id,void(t.stopPropagation(),s(e.filter(e=>e.id!==r)),a===r&&m(null))},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-[#3d3d3d] rounded transition-opacity",children:(0,t.jsx)(i.A,{className:"w-4 h-4 text-gray-400"})})]},l.id))}),(0,t.jsx)("div",{className:"p-3 border-t border-[#424242]",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"ChatGPT Clone"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Free tier"})]})]})})]})}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>p(!1)}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#424242]",children:[(0,t.jsx)("button",{onClick:()=>p(!0),className:"md:hidden p-2 hover:bg-[#262626] rounded-lg",children:(0,t.jsx)(c.A,{className:"w-5 h-5"})}),(0,t.jsx)("h1",{className:"text-lg font-semibold",children:(null==N?void 0:N.title)||"New chat"}),(0,t.jsx)("div",{className:"w-10"})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:N&&0!==N.messages.length?(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[N.messages.map(e=>(0,t.jsx)("div",{className:"px-4 py-6 ".concat("user"===e.role?"bg-[#0d0d0d]":"bg-[#171717]"),children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto flex gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center ".concat("user"===e.role?"bg-gray-600":"bg-gradient-to-br from-green-400 to-blue-500"),children:"user"===e.role?(0,t.jsx)("span",{className:"text-sm font-medium",children:"You"}):(0,t.jsx)(d.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("div",{className:"flex-1 markdown-content",children:(0,t.jsx)(x.oz,{children:e.content})})]})},e.id)),g&&(0,t.jsx)("div",{className:"px-4 py-6 bg-[#171717]",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto flex gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("div",{className:"flex-1 flex items-center",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})}),(0,t.jsx)("div",{ref:j})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full px-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center mb-6",children:(0,t.jsx)(d.A,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h2",{className:"text-3xl font-semibold mb-2",children:"How can I help you today?"}),(0,t.jsx)("p",{className:"text-gray-400 text-center max-w-md",children:"I'm a ChatGPT clone powered by a free AI API. Ask me anything!"})]})}),(0,t.jsx)("div",{className:"border-t border-[#424242] px-4 py-4",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"relative bg-[#2d2d2d] rounded-xl border border-[#424242] focus-within:border-[#8e8ea0]",children:[(0,t.jsx)("textarea",{value:h,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y())},placeholder:"Message ChatGPT...",rows:1,className:"w-full bg-transparent px-4 py-3 pr-12 resize-none outline-none text-white placeholder-gray-500 max-h-[200px]",style:{minHeight:"52px"}}),(0,t.jsx)("button",{onClick:y,disabled:!h.trim()||g,className:"absolute right-3 bottom-3 p-1.5 rounded-lg bg-white text-black disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-200 transition-colors",children:(0,t.jsx)(o.A,{className:"w-4 h-4"})})]}),(0,t.jsx)("p",{className:"text-center text-xs text-gray-500 mt-2",children:"ChatGPT clone built by JIMMY â€¢ AI can make mistakes"})]})})]})]})}},8776:(e,s,a)=>{Promise.resolve().then(a.bind(a,7322))}},e=>{e.O(0,[534,441,255,358],()=>e(e.s=8776)),_N_E=e.O()}]);